import { generateNumber, generatePlainString, generateRfc3339Date, isObject, trimArray, trimObject } from "../../../common/utils.js";

//#region src/namespaces/thr/generate/utils.ts
const generateInReplyTo = (inReplyTo) => {
	if (!isObject(inReplyTo)) return;
	return trimObject({
		"@ref": generatePlainString(inReplyTo.ref),
		"@href": generatePlainString(inReplyTo.href),
		"@type": generatePlainString(inReplyTo.type),
		"@source": generatePlainString(inReplyTo.source)
	});
};
const generateLink = (link) => {
	if (!isObject(link)) return;
	return trimObject({
		"@thr:count": generateNumber(link.count),
		"@thr:updated": generateRfc3339Date(link.updated)
	});
};
const generateItem = (item) => {
	if (!isObject(item)) return;
	return trimObject({
		"thr:total": generateNumber(item.total),
		"thr:in-reply-to": trimArray(item.inReplyTos, generateInReplyTo)
	});
};

//#endregion
export { generateItem, generateLink };