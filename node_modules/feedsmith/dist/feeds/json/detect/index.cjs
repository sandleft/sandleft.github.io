const require_utils = require('../../../common/utils.cjs');
const require_utils$1 = require('../parse/utils.cjs');

//#region src/feeds/json/detect/index.ts
const detect = (value) => {
	const json = require_utils.parseJsonObject(value);
	if (!require_utils.isObject(json)) return false;
	const get = require_utils$1.createCaseInsensitiveGetter(json);
	const version = get("version");
	if (require_utils.isNonEmptyString(version)) return version.includes("jsonfeed.org/version/");
	const hasTitle = require_utils.isNonEmptyString(get("title"));
	const hasItems = Array.isArray(get("items"));
	const hasJsonFeedProps = !!(get("home_page_url") || get("feed_url") || get("authors"));
	return hasTitle && (hasItems || hasJsonFeedProps);
};

//#endregion
exports.detect = detect;