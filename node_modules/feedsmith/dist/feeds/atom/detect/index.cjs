const require_config = require('../../../common/config.cjs');
const require_utils = require('../../../common/utils.cjs');

//#region src/feeds/atom/detect/index.ts
const detect = (value) => {
	if (!require_utils.isNonEmptyString(value)) return false;
	if (!/(?:^|[\s>])<(?:\w+:)?feed[\s>]/im.test(value)) return false;
	const hasAtomNamespace = require_config.namespaceUris.atom.some((uri) => value.includes(uri));
	const hasAtomElements = /(<(?:\w+:)?(entry|title|link|id|updated|summary)[\s>])/i.test(value);
	return hasAtomNamespace || hasAtomElements;
};

//#endregion
exports.detect = detect;