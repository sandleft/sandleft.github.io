import { namespaceUris } from "../../../common/config.js";
import { isNonEmptyString } from "../../../common/utils.js";

//#region src/feeds/atom/detect/index.ts
const detect = (value) => {
	if (!isNonEmptyString(value)) return false;
	if (!/(?:^|[\s>])<(?:\w+:)?feed[\s>]/im.test(value)) return false;
	const hasAtomNamespace = namespaceUris.atom.some((uri) => value.includes(uri));
	const hasAtomElements = /(<(?:\w+:)?(entry|title|link|id|updated|summary)[\s>])/i.test(value);
	return hasAtomNamespace || hasAtomElements;
};

//#endregion
export { detect };